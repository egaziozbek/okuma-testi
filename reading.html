<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Okuma Sayfası</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #1A237E, #FFA000);
      margin: 0;
      padding: 2rem;
      color: #333;
      display: flex;
      justify-content: center;
    }
    .container {
      background-color: #fff;
      padding: 2rem;
      border-radius: 1rem;
      max-width: 700px;
      width: 100%;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
    }
    h2 {
      color: #0D47A1;
    }
    #readingText {
      text-align: justify;
      line-height: 1.6;
      font-size: 1.1rem;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      background: #F57C00;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    #timer {
      margin-top: 15px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Okuma Metni</h2>
    <p id="readingText">
      Bir sabah Gregor Samsa rahatsız edici rüyalarından uyandığında kendini yatağında dev bir böceğe dönüşmüş olarak buldu. Sert sırtının üzerinde yatıyor, başını biraz kaldırdığında kahverengi, kubbe şeklindeki karnını ve üzerinde zor bela duran çok sayıda bacağının kemiksi sertliğini görüyordu.
    </p>

    <button onclick="startReading()" id="startBtn">Okumaya Başla</button>
    <button onclick="finishReading()" id="finishBtn" style="display:none;">Bitirdim</button>

    <div id="timer">Süre: 0 saniye</div>
  </div>

  <script>
    let startTime, interval;

    function startReading() {
      startTime = Date.now();
      document.getElementById('startBtn').style.display = "none";
      document.getElementById('finishBtn').style.display = "inline-block";

      interval = setInterval(() => {
        const elapsed = Math.floor((Date.now() - startTime) / 1000);
        document.getElementById("timer").textContent = `Süre: ${elapsed} saniye`;
      }, 1000);
    }

    function finishReading() {
      clearInterval(interval);
      const totalSeconds = Math.floor((Date.now() - startTime) / 1000);

      // Metindeki kelime sayısını al
      const text = document.getElementById("readingText").innerText;
      const kelimeSayisi = text.trim().split(/\s+/).length;

      // localStorage'a kaydet
      localStorage.setItem("readingTime", totalSeconds);
      localStorage.setItem("kelimeSayisi", kelimeSayisi);

      window.location.href = "result.html";
    }
  </script>
</body>
</html>
